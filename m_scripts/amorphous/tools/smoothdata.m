function ys = smoothdata(x,y,npts)% SMOOTHDATA Smooth data%% Usage:%	ys = smoothdata(x,y,npts)%% Smooths data using the method of Savitzky% and Golay as implemented in DERIV.M (wherein% references and more details can be found).%% Input:%	x = array of x values (e.g. scattering vector)%	y = array of y values (e.g. intensity)%	npts = number of points over which to smooth (optional)%		(default is 5, allowed values are 5, 7, 9, and 11)%% Output:%	ys = array of smoothed y values%% Copyright 2000, Todd Hufnagel (hufnagel@jhu.edu)% Requires DERIV.M% 12-May-03 TCH Added some error checkingif (nargin<2)	error('Not enough input arguments.')elseif (nargin<3)	npts=5;endif (npts~=5)&(npts~=7)&(npts~=9)&(npts~=11)    error('Illegal value of npts - must be 5, 7, 9, or 11.')endx=x(:);y=y(:);order=0;ys=deriv(x,y,order,npts);ys=ys(:);