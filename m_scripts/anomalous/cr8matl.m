function cr8matl(command,data)% Create material file for Absorption routine% Copyright 1999 Sean Brennan.% Stanford Synchrotron Radiation Laboratory% Stanford Linear Accelerator Center, Stanford CA 94309% bren@slac.stanford.edu;global DISK_PATH DISK_END ANOMAL_FILES DISK_DELIMif nargin==0 % initialize window	matl_i;	return;endif strcmp(command,'write')% write the lat file	matlname=get(findobj(gcf,'tag','Material'),'string');	if strcmp(matlname,'')		disp('  Please enter name of Material')		break	end	filename= [DISK_PATH,ANOMAL_FILES,DISK_DELIM,'mtl_dir',DISK_END,matlname,'.mat'];	desc= get(findobj(gcf,'tag','desc'),'string');	data= get(findobj(gcf,'tag','Comp'),'userdata');	density=data.dens;	zed_fract= data.comp;	save(filename,'desc','density','zed_fract')	disp(['Data saved to ',filename])elseif strcmp(command,'Comp')	cr8alloy('Comp');elseif strcmp(command,'Alloy')		% Return from cr8alloy	close(gcf);                              % close current window	figure(findobj(0,'Name','MATERIAL'))      % make multi figure current	set(findobj(gcf,'tag','Comp'),'userdata',data);	comps= data.comp;	density= data.dens;	fred=comps';	set(findobj(gcf,'tag','data'),'string',num2str([density fred(:)']));end