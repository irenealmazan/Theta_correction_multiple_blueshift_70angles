function idx_i(name,energy)% create gui controls to calculate refractive index for mlt% Copyright 1996 Anneli Munkholm & Sean M. Brennan.% Stanford Synchrotron Radiation Laboratory% Stanford Linear Accelerator Center, Stanford CA 94309% Bren@slac.stanford.edudefault_energy=8048;default_density='0';if nargin<2, energy=default_energy; endif nargin<1, name='CR8IDX'; endfigure('numbertitle','off','units','character',...		'position',[30 20 55 23],...       'resize','off','Name',name,'color',[0 0 0.4]);set(gca,'visible','off','position',[0 0 1 1]);enrg = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 19 15 1.7 ],...	'String',energy,...	'Style','edit',...	'Visible','off',...	'tag','enrg');dens = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 19 15 1.7 ],...	'String',default_density,...	'Style','edit',...	'Visible','on',...	'tag','dens');zed1 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 15 15 1.7 ],...	'String','Si',...	'Style','edit',...	'Visible','on',...	'tag','zed1');zed2 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 13 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','zed2');zed3 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 11 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','zed3');zed4 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 9 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','zed4');zed5 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 8 7 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','zed5');fra1 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'CallBack','cr8idx(''fra1'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 15 15 1.7 ],...	'String','1',...	'Style','edit',...	'Visible','on',...	'tag','fra1');fra2 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'CallBack','cr8idx(''fra2'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 13 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','fra2');fra3 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'CallBack','cr8idx(''fra3'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 11 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','fra3');fra4 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'CallBack','cr8idx(''fra4'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 9 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','fra4');fra5 = uicontrol(...	'BackgroundColor',[ 1 1 1 ],...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 7 15 1.7 ],...	'String','',...	'Style','edit',...	'Visible','on',...	'tag','fra5');txt(1) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 10 21.5],...	'String','Energy [eV]',...	'Tag','txt_enrg');txt(2) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 31 21.5],...	'String','Density [g/cm3]',...	'Tag','txt_dens');txt(3) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 15 18],...	'String','Z',...	'Tag','txt_zed');txt(4) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 34 18],...	'String','Fraction',...	'Tag','txt_fra');txt(5) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 4 6],...	'String','Alpha [1e6]',...	'Tag','txt_alfa');txt(6) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 22 6],...	'String','Beta [1e6]',...	'Tag','txt_beta');txt(7) = text(...	'Color',[ 0 1 0 ],...	'Units','character',...	'Position',[ 40 6],...	'String','µ [1/cm]',...	'Tag','txt_mu');txt(8) = text(...	'Color',[1 1 1 ],...	'Units','character',...	'Position',[ 4 4.5],...	'String','',...	'Tag','alpha');txt(9) = text(...	'Color',[1 1 1 ],...	'Units','character',...	'Position',[ 22 4.5],...	'String','',...	'Tag','beta');txt(10) = text(...	'Color',[1 1 1 ],...	'Units','character',...	'Position',[ 40 4.5],...	'String','',...	'Tag','mu');upda = uicontrol(...	'BackgroundColor',[ 0.7 0.7 0.7 ],...	'CallBack','cr8idx(''upda'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 10 1 15 1.7 ],...	'String','Update',...	'Style','pushbutton',...	'Visible','off',...	'tag','upda');expt = uicontrol(...	'BackgroundColor',[ 0.7 0.7 0.7 ],...	'CallBack','cr8idx(''expt'');',...	'ForegroundColor',[ 0 0 0 ],...	'Units','character',...	'Position',[ 30 1 15 1.7 ],...	'String','Export',...	'Style','pushbutton',...	'Visible','off',...	'tag','expt');if strcmp(name,'CR8IDX'),	set(upda,'Position', [20 1 15 1.7])else	set(expt,'Visible','on')	set(findobj(gcf,'tag','enrg'),...		'style','text','string',num2str(energy),...		'BackgroundColor',[ 0 0 .4],'ForegroundColor',[ 1 1 1 ]) 		endset(upda,'Visible','on')set(enrg,'Visible','on')	